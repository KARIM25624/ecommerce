<section class=" my-5 p-1 rounded-1 w-100 mx-auto">
  <h1 class="title" style="font-family: Arial, Helvetica, sans-serif ">
    Register Now
  </h1>
  <form class="ms-auto" [formGroup]="registerForm" (ngSubmit)="handelForm()">
    <div class="mb-2">
      <label for="name">name :</label>
      <input
        type="text"
        id="name"
        class="form-control"
        formControlName="name"
        #inputName
      />
      <!-- alert mes for validition -->
      <div
        class="alert alert-warning rounded-4"
        *ngIf="
          registerForm.get('name')?.errors && (registerForm.get('name')?.touched || inputName.value.length > 0)
        "
      >
        <p
          *ngIf="registerForm.get('name')?.getError('minlength')"
          class="text-danger"
        >
          name must be at least 3 chars
        </p>
        <p
          *ngIf="registerForm.get('name')?.getError('required')"
          class="text-danger"
        >
          name is required
        </p>
        <p
          *ngIf="registerForm.get('name')?.getError('maxlength')"
          class="text-danger"
        >
          name max lingth 20
        </p>
      </div>
    </div>
    <!-- name input -->

    <div class="mb-2">
      <label for="email">email :</label>
      <input
        type="email"
        id="email"
        class="form-control"
        formControlName="email"
        #inputEmail
      />
      <!-- email valdition -->
      <div
        class="alert alert-warning rounded-4 my-1"
        *ngIf="
          registerForm.get('email')?.errors &&
          (registerForm.get('email')?.touched || inputEmail.value.length > 0)
        "
      >
        <p
          *ngIf="registerForm.get('email')?.getError('required')"
          class="text-danger"
        >
          email required
        </p>
        <p
          *ngIf="registerForm.get('email')?.getError('email')"
          class="text-danger"
        >
          email is invalid
        </p>
      </div>
    </div>
    <!-- email -->

    <div class="mb-2">
      <label for="password">password :</label>
      <input
        type="password"
        id="password"
        class="form-control"
        formControlName="password"
        #inputPass
      />
      <!-- password validition -->
      <div
        class="alert alert-warning rounded-4 my-1"
        *ngIf="
          registerForm.get('password')?.errors &&
          (registerForm.get('password')?.touched || inputPass.value.length > 0)
        "
      >
        <p
          *ngIf="registerForm.get('password')?.getError('required')"
          class="text-danger"
        >
          password required
        </p>
        <p
          *ngIf="registerForm.get('password')?.getError('pattern')"
          class="text-danger"
        >
          password is invalid must be start with captial letter and at last 5
          char
        </p>
      </div>
    </div>
    <!-- password -->

    <div class="mb-2">
      <label for="rePassword">repassword :</label>
      <input
        type="password"
        id="rePassword"
        class="form-control"
        formControlName="rePassword"
        #inputRepass
      />
      <!-- repass validitoin -->
      <div
        class="alert alert-warning rounded-4 my-1"
        *ngIf="
          registerForm.get('rePassword')?.errors &&
          (registerForm.get('rePassword')?.touched || inputRepass.value.length > 0)
        "
      >
        <p
          *ngIf="registerForm.get('rePassword')?.getError('required')"
          class="text-danger"
        >
          rePassword required
        </p>
        <p
          *ngIf="registerForm.get('rePassword')?.getError('notequal')"
          class="text-danger"
        >
          rePassword dosn't match password
        </p>
      </div>
    </div>
    <!-- repassword -->

    <div class="mb-2">
      <label for="phone">phone :</label>
      <input
        type="tel"
        id="phone"
        class="form-control"
        formControlName="phone"
        #inputPhone
      />
      <!-- pohne val -->
      <div
        class="alert alert-warning rounded-4 my-1"
        *ngIf="
          registerForm.get('phone')?.errors &&
          (registerForm.get('phone')?.touched || inputPhone.value.length > 0)
        "
      >
        <p
          *ngIf="registerForm.get('phone')?.getError('required')"
          class="text-danger"
        >
          phone required
        </p>
        <p
          *ngIf="registerForm.get('phone')?.getError('pattern')"
          class="text-danger"
        >
          accept only egypt phone numbers
        </p>
      </div>
    </div>
    <!-- phone vali -->
    <button [disabled]="registerForm.invalid"  class="btn-main ms-auto d-block p-2">
      <i *ngIf="isLoading" class="fa fa-spinner fa-spin"></i>
      Register Now
    </button>
    <p *ngIf="msgError" class="alert alert-danger">{{msgError}}</p>
  </form>
</section>
